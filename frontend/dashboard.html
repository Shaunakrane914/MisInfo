<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Dashboard - Aegis Protocol</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Aegis Protocol</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="how-it-works.html">How It Works</a></li>
                    <li><a href="dashboard.html" class="active">Live Dashboard</a></li>
                    <li><a href="submit.html">Submit Claim</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Dashboard Layout -->
    <div class="container dashboard-container">
        <!-- Analytics Overview -->
        <div class="analytics-overview">
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-content">
                    <div class="stat-value" id="total-claims">0</div>
                    <div class="stat-label">Total Claims</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üî¥</div>
                <div class="stat-content">
                    <div class="stat-value" id="false-claims">0</div>
                    <div class="stat-label">False Claims</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üü°</div>
                <div class="stat-content">
                    <div class="stat-value" id="misleading-claims">0</div>
                    <div class="stat-label">Misleading</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üü¢</div>
                <div class="stat-content">
                    <div class="stat-value" id="true-claims">0</div>
                    <div class="stat-label">True Claims</div>
                </div>
            </div>
        </div>

        <div class="dashboard-layout">
            <!-- Left Column: Agent Status & Verified Alerts -->
            <div class="main-feed">
                <!-- Agent Status Panel -->
                <div class="agent-status-panel">
                    <h2>ü§ñ Multi-Agent System Status</h2>
                    <div class="agent-pipeline">
                        <div class="agent-card" id="scout-agent">
                            <div class="agent-header">
                                <span class="agent-icon">üîç</span>
                                <span class="agent-name">Scout Agent</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">Discovering claims</div>
                            <div class="agent-stats">
                                <span>Discovered: <strong id="scout-count">0</strong></span>
                            </div>
                        </div>
                        <div class="agent-card" id="analyst-agent">
                            <div class="agent-header">
                                <span class="agent-icon">üß†</span>
                                <span class="agent-name">Analyst Agent</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">ML text analysis</div>
                            <div class="agent-stats">
                                <span>Analyzed: <strong id="analyst-count">0</strong></span>
                            </div>
                        </div>
                        <div class="agent-card" id="source-agent">
                            <div class="agent-header">
                                <span class="agent-icon">üë§</span>
                                <span class="agent-name">Source Profiler</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">Credibility scoring</div>
                            <div class="agent-stats">
                                <span>Profiled: <strong id="source-count">0</strong></span>
                            </div>
                        </div>
                        <div class="agent-card" id="research-agent">
                            <div class="agent-header">
                                <span class="agent-icon">üî¨</span>
                                <span class="agent-name">Research Agent</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">Evidence gathering</div>
                            <div class="agent-stats">
                                <span>Researched: <strong id="research-count">0</strong></span>
                            </div>
                        </div>
                        <div class="agent-card" id="fusion-agent">
                            <div class="agent-header">
                                <span class="agent-icon">‚öñÔ∏è</span>
                                <span class="agent-name">Fusion Agent</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">Decision making</div>
                            <div class="agent-stats">
                                <span>Resolved: <strong id="fusion-count">0</strong></span>
                            </div>
                        </div>
                        <div class="agent-card" id="investigator-agent">
                            <div class="agent-header">
                                <span class="agent-icon">üïµÔ∏è</span>
                                <span class="agent-name">Investigator</span>
                                <span class="agent-status status-idle">‚óè</span>
                            </div>
                            <div class="agent-description">Expert analysis (Gemini)</div>
                            <div class="agent-stats">
                                <span>Investigated: <strong id="investigator-count">0</strong></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Search and Filter -->
                <div class="search-filter-bar">
                    <input type="text" id="search-input" placeholder="üîç Search claims..." class="search-input">
                    <select id="verdict-filter" class="filter-select">
                        <option value="all">All Verdicts</option>
                        <option value="False">False</option>
                        <option value="Misleading">Misleading</option>
                        <option value="True">True</option>
                    </select>
                </div>

                <!-- Verified Claims Feed -->
                <h2>üìã Verified Claims Feed</h2>
                <div id="alerts-container">
                    <!-- Alert cards will be dynamically inserted here -->
                    <div class="alert-placeholder">
                        <p>Loading verified claims...</p>
                    </div>
                </div>
            </div>

            <!-- Right Column: Charts & System Info -->
            <div class="sidebar">
                <!-- Verdict Distribution Chart -->
                <div class="chart-container">
                    <h3>Verdict Distribution</h3>
                    <canvas id="verdictChart"></canvas>
                </div>

                <!-- Processing Time Chart -->
                <div class="chart-container">
                    <h3>Claims Over Time</h3>
                    <canvas id="timelineChart"></canvas>
                </div>

                <!-- System Status Log -->
                <h2>System Activity Log</h2>
                <div id="status-container">
                    <!-- Status messages will be dynamically inserted here -->
                    <div class="status-message">
                        <p>[System] Connecting to Aegis Protocol...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2023 Aegis Protocol. An autonomous fact-checking system.</p>
        </div>
    </footer>

    <!-- Supabase and custom script -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js?v=2"></script>
</body>
</html>